<!DOCTYPE html>
<html>
<head>
<title>Locked Love Letter</title>

<style>
body{
  background:#1a0010;
  color:#ffb3c6;
  font-family:Arial;
  text-align:center;
  padding-top:10vh;
}
.box{
  background:#300018;
  width:60%;
  margin:auto;
  padding:30px;
  border-radius:15px;
}
button{
  margin-top:20px;
  padding:10px 20px;
  border:none;
  border-radius:12px;
  background:#ff4d7a;
  color:white;
  cursor:pointer;
}
.flag{
  color:#7CFFB2;
  margin-top:20px;
}
</style>
</head>

<body>

<div class="box">
<h1>Locked Love Letter</h1>

<p>
Some things only open when three parts are right.
</p>

<button onclick="openLetter()">Open Letter</button>

<div id="msg"></div>

<p style="opacity:0.6;">Made with love.</p>
</div>

<script>
function openLetter(){

  const q = new URLSearchParams(location.search);

  let x = q.get("x");
  let y = q.get("y");
  let z = q.get("z");

  let box = document.getElementById("msg");

  if(!x || !y || !z){
    box.innerText = "The letter stays closed.";
    return;
  }

  let key = (x + y + z);

  if(key === "314"){

    let data = [
      60,66,55,61,113,
      118,111,118,101,95,
      111,112,101,110,115,95,
      108,101,116,116,101,114,115,
      115
    ];

    let out = "";

    for(let i=0;i<data.length;i++){
      out += String.fromCharCode(data[i] + 10);
    }

    box.innerHTML = "<div class='flag'>" + out + "</div>";

  } else {
    box.innerText = "The pieces donâ€™t align.";
  }
}
</script>

</body>
</html
