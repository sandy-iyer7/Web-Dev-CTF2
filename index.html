<!DOCTYPE html>
<html>
<head>
<title>Locked Love Letter</title>

<style>
body {
  background:#1a0010;
  color:#ffb3c6;
  font-family:Arial;
  text-align:center;
  padding-top:10vh;
}

.box {
  background:#300018;
  width:60%;
  margin:auto;
  padding:30px;
  border-radius:15px;
}

button {
  margin-top:20px;
  padding:10px 20px;
  border:none;
  border-radius:12px;
  background:#ff4d7a;
  color:white;
  cursor:pointer;
}

.flag {
  color:#7CFFB2;
  margin-top:20px;
}
</style>
</head>

<body>

<div class="box">
<h1>Locked Love Letter</h1>

<p>
Love is never written in just one word.
</p>

<p>
Some words come first. Some stay in the middle. Some close the message.
</p>

<button onclick="openLetter()">Open Letter</button>

<div id="msg"></div>

<p style="opacity:0.6;">Made with love.</p>
</div>

<script>
function openLetter(){

  const p = new URLSearchParams(window.location.search);

  let one = p.get("a");
  let two = p.get("b");
  let three = p.get("c");

  let out = document.getElementById("msg");

  if(!one || !two || !three){
    out.innerText = "The letter is still sealed.";
    return;
  }

  let phrase = one + "_" + two + "_" + three;

  if(phrase === "love_opens_letters"){

    let start = [70,76,65,71,123];
    let end = [125];

    let flag = "";

    for(let i=0;i<start.length;i++){
      flag += String.fromCharCode(start[i]);
    }

    flag += phrase;

    for(let i=0;i<end.length;i++){
      flag += String.fromCharCode(end[i]);
    }

    out.innerHTML = "<div class='flag'>" + flag + "</div>";

  } else {
    out.innerText = "Those words donâ€™t belong together.";
  }
}
</script>

</body>
</html>
